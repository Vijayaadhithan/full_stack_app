/* Font loaded asynchronously from index.html for better performance */

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  * {
    @apply border-border;
  }

  :root {
    font-size: clamp(14px, 0.4vw + 14px, 18px);
    /* Default mode primary color */
    --mode-primary: hsl(25, 95%, 53%);
  }

  @media (min-width: 1600px) {
    :root {
      font-size: 18px;
    }
  }

  @media (max-width: 480px) {
    :root {
      font-size: 14px;
    }
  }

  body {
    @apply antialiased bg-background text-foreground;
    font-family: 'Baloo Thambi 2', sans-serif;
    position: relative;
    min-height: 100dvh;
    min-width: 320px;
    overflow-x: hidden;
  }
}

/* ==========================================
   MODE-BASED THEMES (Rural-First Architecture)
   Customer = Orange/Saffron
   Shop = Green
   Provider = Blue
   ========================================== */

/* Customer Theme (Orange/Saffron) - Default */
.mode-customer {
  --primary: 25 95% 53%;
  --primary-foreground: 60 9.1% 97.8%;
  --accent: 25 80% 95%;
}

.mode-customer .primary-gradient {
  background: linear-gradient(135deg, hsl(25, 95%, 53%) 0%, hsl(35, 95%, 55%) 100%);
}

/* Shop Theme (Green) */
.mode-shop {
  --primary: 142 71% 45%;
  --primary-foreground: 60 9.1% 97.8%;
  --accent: 142 60% 95%;
}

.mode-shop .primary-gradient {
  background: linear-gradient(135deg, hsl(142, 71%, 45%) 0%, hsl(152, 71%, 50%) 100%);
}

/* Provider Theme (Blue) */
.mode-provider {
  --primary: 217 91% 60%;
  --primary-foreground: 60 9.1% 97.8%;
  --accent: 217 80% 95%;
}

.mode-provider .primary-gradient {
  background: linear-gradient(135deg, hsl(217, 91%, 60%) 0%, hsl(227, 91%, 65%) 100%);
}

/* Mode indicator pill styles */
.mode-pill-customer {
  @apply bg-orange-500 text-white;
}

.mode-pill-shop {
  @apply bg-green-500 text-white;
}

.mode-pill-provider {
  @apply bg-blue-500 text-white;
}

/* Large touch-friendly inputs for rural users */
.rural-input {
  @apply h-16 text-2xl tracking-wider text-center rounded-xl border-2;
  font-family: 'Baloo Thambi 2', sans-serif;
}

.rural-input:focus {
  @apply ring-4 ring-primary/20 border-primary;
}

/* PIN input dots */
.pin-dot {
  @apply w-4 h-4 rounded-full bg-gray-300 transition-all;
}

.pin-dot-filled {
  @apply bg-primary scale-110;
}

/* Global watermark: single, centered mark (very light) */
body::before {
  content: "";
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 0;
  background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='800' height='800'><text x='50%' y='50%' dominant-baseline='middle' text-anchor='middle' font-family='sans-serif' font-size='64' fill='%23000000' fill-opacity='0.03' transform='rotate(-25 400 400)'>DoorStep</text></svg>");
  background-repeat: no-repeat;
  background-position: center;
  background-size: 60vmin;
}

/* ==========================================
   PERFORMANCE-OPTIMIZED ANIMATIONS
   GPU-accelerated, respects prefers-reduced-motion
   ========================================== */

/* Fade in animations */
@keyframes fade-in {
  from {
    opacity: 0;
  }

  to {
    opacity: 1;
  }
}

@keyframes fade-in-up {
  from {
    opacity: 0;
    transform: translateY(20px);
  }

  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes fade-in-down {
  from {
    opacity: 0;
    transform: translateY(-20px);
  }

  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Floating animation for hero cards */
@keyframes float {

  0%,
  100% {
    transform: translateY(0);
  }

  50% {
    transform: translateY(-10px);
  }
}

@keyframes float-delayed {

  0%,
  100% {
    transform: translateY(0);
  }

  50% {
    transform: translateY(10px);
  }
}

/* Slow pulse for background elements */
@keyframes pulse-slow {

  0%,
  100% {
    opacity: 0.1;
    transform: scale(1);
  }

  50% {
    opacity: 0.15;
    transform: scale(1.1);
  }
}

@keyframes pulse-slower {

  0%,
  100% {
    opacity: 0.08;
    transform: scale(1.05);
  }

  50% {
    opacity: 0.12;
    transform: scale(1);
  }
}

/* Slow spin for icons */
@keyframes spin-slow {
  from {
    transform: rotate(0deg);
  }

  to {
    transform: rotate(360deg);
  }
}

/* Animation utility classes */
.animate-fade-in {
  animation: fade-in 0.6s ease-out forwards;
}

.animate-fade-in-delayed {
  animation: fade-in 0.6s ease-out 0.2s forwards;
  opacity: 0;
}

.animate-fade-in-up {
  animation: fade-in-up 0.6s ease-out forwards;
}

.animate-fade-in-down {
  animation: fade-in-down 0.5s ease-out forwards;
}

.animate-float {
  animation: float 4s ease-in-out infinite;
}

.animate-float-delayed {
  animation: float-delayed 4s ease-in-out infinite;
}

.animate-pulse-slow {
  animation: pulse-slow 8s ease-in-out infinite;
  will-change: opacity, transform;
}

.animate-pulse-slower {
  animation: pulse-slower 10s ease-in-out infinite;
  will-change: opacity, transform;
}

.animate-spin-slow {
  animation: spin-slow 20s linear infinite;
}

/* Respect user's motion preferences */
@media (prefers-reduced-motion: reduce) {

  .animate-fade-in,
  .animate-fade-in-delayed,
  .animate-fade-in-up,
  .animate-fade-in-down,
  .animate-float,
  .animate-float-delayed,
  .animate-pulse-slow,
  .animate-pulse-slower,
  .animate-spin-slow {
    animation: none !important;
    opacity: 1 !important;
    transform: none !important;
  }
}

/* Disable animations on mobile for performance */
@media (max-width: 767px) {

  .animate-float,
  .animate-float-delayed,
  .animate-pulse-slow,
  .animate-pulse-slower,
  .animate-spin-slow {
    animation: none !important;
  }
}