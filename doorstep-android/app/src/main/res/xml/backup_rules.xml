<?xml version="1.0" encoding="utf-8"?>
<!--
  Backup rules for Android Auto Backup.
  We include shared preferences but exclude sensitive session data.
  DataStore preferences_pb files are excluded as they may contain sensitive tokens.
-->
<full-backup-content>
    <!-- Include shared preferences by default -->
    <include domain="sharedpref" path="."/>
    
    <!-- Exclude sensitive shared preferences -->
    <exclude domain="sharedpref" path="device.xml"/>
    <exclude domain="sharedpref" path="secure_session.xml"/>
    
    <!-- Include root domain to allow datastore exclusion, then exclude sensitive datastore files -->
    <include domain="root" path="."/>
    <exclude domain="root" path="datastore/doorstep_prefs.preferences_pb"/>
    <exclude domain="root" path="no_backup"/>
</full-backup-content>
